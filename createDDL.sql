CREATE TABLE AUTOR (sifra INTEGER NOT NULL, DATUMRODJENJA DATE, IME VARCHAR(255), PREZIME VARCHAR(255), PRIMARY KEY (sifra))
CREATE TABLE IZDAVAC (sifra INTEGER NOT NULL, NAZIV VARCHAR(255), PRIMARY KEY (sifra))
CREATE TABLE KNJIGA (sifra INTEGER NOT NULL, BROJSTRANICA INTEGER, GODINAIZDANJA INTEGER, NASLOV VARCHAR(255), ORIGINALNINASLOVKNJIGE VARCHAR(255), VRSTA VARCHAR(255), PRIMARY KEY (sifra))
CREATE TABLE KorisnickiProfil (sifra INTEGER NOT NULL, DTYPE VARCHAR(31), BROJKNJIGA INTEGER, DATUMRODJENJA DATE, IME VARCHAR(255), JMBG VARCHAR(255), NEGATIVNIBODOVI INTEGER, PASS VARCHAR(255), PREZIME VARCHAR(255), ULOGA VARCHAR(255), AKADEMSKOZVANJE VARCHAR(255), BROJINDEXA VARCHAR(255), SEMESTAR INTEGER, PRIMARY KEY (sifra))
CREATE TABLE PREDMET (sifra INTEGER NOT NULL, BROJSEMESTRA INTEGER, NAZIV VARCHAR(255), SKRACENICA VARCHAR(255), PRIMARY KEY (sifra))
CREATE TABLE PRIMJERAK (sifra INTEGER NOT NULL, DATUMPREUZIMANJA DATE, DATUMVRACANJA DATE, DOSTUPNOST SMALLINT DEFAULT 0, PRIMARY KEY (sifra))
CREATE TABLE REZERVACIJA (sifra INTEGER NOT NULL, DATUMREZERVACIJA DATE, KNJIGA_sifra INTEGER, PRIMARY KEY (sifra))
CREATE TABLE KnjigaAutori (sifraAutora INTEGER NOT NULL, sifraKnjige INTEGER NOT NULL, PRIMARY KEY (sifraAutora, sifraKnjige))
CREATE TABLE KnjigaIzdavac (sifraIzdavaca INTEGER NOT NULL, sifraKnjige INTEGER NOT NULL, PRIMARY KEY (sifraIzdavaca, sifraKnjige))
CREATE TABLE PredmetKnjiga (sifraKnjige INTEGER NOT NULL, sifraPredmeta INTEGER NOT NULL, PRIMARY KEY (sifraKnjige, sifraPredmeta))
CREATE TABLE KnjigaPrimjerak (sifraPrimjerak INTEGER NOT NULL, sifraKnjige INTEGER NOT NULL, PRIMARY KEY (sifraPrimjerak, sifraKnjige))
CREATE TABLE NastavnikPredmet (sifraNastavnika INTEGER NOT NULL, sifraPredmeta INTEGER NOT NULL, PRIMARY KEY (sifraNastavnika, sifraPredmeta))
CREATE TABLE KorisnikPrimjerka (sifraKorisnika INTEGER NOT NULL, sifraPrimjerka INTEGER NOT NULL, PRIMARY KEY (sifraKorisnika, sifraPrimjerka))
CREATE TABLE KorisnikRezervacija (sifraRezervacije INTEGER NOT NULL, sifraKorisnik INTEGER NOT NULL, PRIMARY KEY (sifraRezervacije, sifraKorisnik))
ALTER TABLE REZERVACIJA ADD CONSTRAINT RZRVACIJAKNJGsifra FOREIGN KEY (KNJIGA_sifra) REFERENCES PRIMJERAK (sifra)
ALTER TABLE KnjigaAutori ADD CONSTRAINT KnjgutorisfrKnjige FOREIGN KEY (sifraKnjige) REFERENCES KNJIGA (sifra)
ALTER TABLE KnjigaAutori ADD CONSTRAINT KnjgAutorisfrutora FOREIGN KEY (sifraAutora) REFERENCES AUTOR (sifra)
ALTER TABLE KnjigaIzdavac ADD CONSTRAINT Knjgzdvacsfrzdvaca FOREIGN KEY (sifraIzdavaca) REFERENCES IZDAVAC (sifra)
ALTER TABLE KnjigaIzdavac ADD CONSTRAINT KnjgzdavacsfrKnjge FOREIGN KEY (sifraKnjige) REFERENCES KNJIGA (sifra)
ALTER TABLE PredmetKnjiga ADD CONSTRAINT PrdmtKnjgsfrPrdmta FOREIGN KEY (sifraPredmeta) REFERENCES PREDMET (sifra)
ALTER TABLE PredmetKnjiga ADD CONSTRAINT PrdmtKnjgasfrKnjge FOREIGN KEY (sifraKnjige) REFERENCES KNJIGA (sifra)
ALTER TABLE KnjigaPrimjerak ADD CONSTRAINT KnjgPrmjrsfrPrmjrk FOREIGN KEY (sifraPrimjerak) REFERENCES KNJIGA (sifra)
ALTER TABLE KnjigaPrimjerak ADD CONSTRAINT KnjgPrmjraksfrKnjg FOREIGN KEY (sifraKnjige) REFERENCES PRIMJERAK (sifra)
ALTER TABLE NastavnikPredmet ADD CONSTRAINT NstvnkPrdmsfrPrdmt FOREIGN KEY (sifraPredmeta) REFERENCES PREDMET (sifra)
ALTER TABLE NastavnikPredmet ADD CONSTRAINT NstvnkPrdsfrNstvnk FOREIGN KEY (sifraNastavnika) REFERENCES KorisnickiProfil (sifra)
ALTER TABLE KorisnikPrimjerka ADD CONSTRAINT KrsnkPrmjrsfrKrsnk FOREIGN KEY (sifraKorisnika) REFERENCES PRIMJERAK (sifra)
ALTER TABLE KorisnikPrimjerka ADD CONSTRAINT KrsnkPrmjsfrPrmjrk FOREIGN KEY (sifraPrimjerka) REFERENCES KorisnickiProfil (sifra)
ALTER TABLE KorisnikRezervacija ADD CONSTRAINT KrsnkRzrvsfrRzrvcj FOREIGN KEY (sifraRezervacije) REFERENCES KorisnickiProfil (sifra)
ALTER TABLE KorisnikRezervacija ADD CONSTRAINT KrsnkRzrvcsfrKrsnk FOREIGN KEY (sifraKorisnik) REFERENCES REZERVACIJA (sifra)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN_TABLE', 0)
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
